(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],l=0,v=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,c=1;c<a.length;c++){var s=a[c];0!==n[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/weather/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"state",(function(){return pe})),a.d(r,"mutations",(function(){return fe})),a.d(r,"actions",(function(){return me}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Navbar"),a("v-main",[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","append-icon":"mdi-crosshairs-gps","single-line":"",label:"Enter a city"},on:{"click:prepend":e.updateCurWeather,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateCurWeather(t)},"click:append":e.updateCurLocWeather},model:{value:e.curCity,callback:function(t){e.curCity=t},expression:"curCity"}})],1)],1),e.curWeather?a("div",["error"!==e.curWeather?a("WeatherDescription",{attrs:{weather:e.curWeather,"is-saved":!1},on:{savecity:e.saveCity,deletecity:e.deleteCity}}):a("ErrorMessage",{attrs:{city:e.curCity}})],1):e._e(),e.savedWeather?a("div",[e.savedCities.length>0?a("v-card",{staticClass:"mx-auto",attrs:{flat:""}},[a("div",{staticClass:"font-weight-black"},[e._v(" Saved Cities ")]),a("v-divider")],1):e._e(),e._l(e.savedWeather,(function(t,r){return a("div",{key:r},[a("WeatherDescription",{attrs:{weather:t,"is-saved":!0},on:{savecity:e.saveCity,deletecity:e.deleteCity}})],1)}))],2):e._e()],1)],1)},o=[],c=(a("caad"),a("c975"),a("a434"),a("2532"),a("5530")),s=a("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:a("cf05"),width:"40"}}),r("div",{staticClass:"font-weight-medium"},[e._v(" Weather ")])],1),r("v-spacer")],1)},d=[],l={name:"Navbar"},v=l,h=a("2877"),p=a("6544"),f=a.n(p),m=a("40dc"),g=a("adda"),y=a("2fa4"),C=Object(h["a"])(v,u,d,!1,null,"064a2bb3",null),b=C.exports;f()(C,{VAppBar:m["a"],VImg:g["a"],VSpacer:y["a"]});var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-bottom":"20px"},attrs:{"max-width":"700"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[e._v(" "+e._s(e.cityTitle)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.curTime)+" "+e._s(e.shortDescription)+" ")])],1)],1),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-img",{attrs:{src:e.imageLink,width:"100"}})],1),a("v-col",[a("WeatherParameter",{attrs:{name:"Temperature",value:e.temperature}}),a("WeatherParameter",{attrs:{name:"Feels like",value:e.feelsLikeTemperature}})],1),a("v-col",[a("WeatherParameter",{attrs:{name:"Wind speed",value:e.windSpeed}}),a("WeatherParameter",{attrs:{name:"Wind direction",value:e.windDirection}})],1),a("v-col",[a("WeatherParameter",{attrs:{name:"Pressure",value:e.pressure}}),a("WeatherParameter",{attrs:{name:"Humidity",value:e.humidity}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",e._g({attrs:{icon:"",color:e.isSaved?"red":"grey"}},{click:e.isSaved?e.deleteCity:e.saveCity}),[a("v-icon",[e._v("mdi-bookmark")])],1)],1)],1)},W=[],S=(a("a4d3"),a("e01a"),a("99af"),a("b0c0"),["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"]),_={hour12:!1,month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{"text-align":"center","margin-top":"5px"},attrs:{flat:""}},[a("div",{staticClass:"font-weight-medium"},[e._v(e._s(e.name))]),a("div",[e._v(" "+e._s(e.value))])])},x=[],T={name:"WeatherParameter",props:{name:String,value:String}},V=T,k=a("b0af"),O=Object(h["a"])(V,E,x,!1,null,"26c889ce",null),P=O.exports;f()(O,{VCard:k["a"]});var j={name:"WeatherDescription",components:{WeatherParameter:P},props:{weather:Object,isSaved:Boolean},computed:{imageLink:function(){var e,t=null===(e=this.weather)||void 0===e?void 0:e.weather[0].icon;return"http://openweathermap.org/img/wn/".concat(t,"@2x.png")},cityTitle:function(){var e,t,a=null===(e=this.weather)||void 0===e?void 0:e.name,r=null===(t=this.weather)||void 0===t?void 0:t.sys.country;return"".concat(a," ").concat(r)},shortDescription:function(){var e;return null===(e=this.weather)||void 0===e?void 0:e.weather[0].description},curTime:function(){return(new Date).toLocaleString("en-GB",_)},temperature:function(){var e;return"".concat(null===(e=this.weather)||void 0===e?void 0:e.main.temp," °C")},feelsLikeTemperature:function(){var e;return"".concat(null===(e=this.weather)||void 0===e?void 0:e.main.feels_like," °C")},windSpeed:function(){var e;return"".concat(null===(e=this.weather)||void 0===e?void 0:e.wind.speed," m/s")},windDirection:function(){var e,t=null===(e=this.weather)||void 0===e?void 0:e.wind.deg;return"".concat(this.getWindDirection(t))},pressure:function(){var e;return"".concat(null===(e=this.weather)||void 0===e?void 0:e.main.pressure," Pa")},humidity:function(){var e;return"".concat(null===(e=this.weather)||void 0===e?void 0:e.main.humidity,"%")}},methods:{getWindDirection:function(e){var t=Math.round(e%360/22.5);return S[t]},saveCity:function(){var e;this.$emit("savecity",null===(e=this.weather)||void 0===e?void 0:e.name)},deleteCity:function(){var e;this.$emit("deletecity",null===(e=this.weather)||void 0===e?void 0:e.name)}}},R=j,N=a("8336"),L=a("99d9"),A=a("62ad"),D=a("a523"),I=a("132d"),$=a("da13"),H=a("5d23"),M=a("0fd9"),U=Object(h["a"])(R,w,W,!1,null,"520c6d12",null),J=U.exports;f()(U,{VBtn:N["a"],VCard:k["a"],VCardActions:L["a"],VCol:A["a"],VContainer:D["a"],VIcon:I["a"],VImg:g["a"],VListItem:$["a"],VListItemContent:H["a"],VListItemSubtitle:H["b"],VListItemTitle:H["c"],VRow:M["a"],VSpacer:y["a"]});var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",staticStyle:{"margin-bottom":"20px",color:"red",padding:"10px"},attrs:{"max-width":"700"}},[e._v(" No such city "+e._s(e.city)+" ")])},F=[],q={name:"ErrorMessage",props:{city:String}},G=q,z=Object(h["a"])(G,B,F,!1,null,"0fc39f6c",null),K=z.exports;f()(z,{VCard:k["a"]});var Q={name:"App",components:{ErrorMessage:K,WeatherDescription:J,Navbar:b},data:function(){return{curCity:"",savedCities:[]}},computed:Object(c["a"])({},Object(s["b"])({curWeather:function(e){return e.weather.curWeather},savedWeather:function(e){return e.weather.savedWeather}})),methods:{saveCity:function(e){this.savedCities.includes(e)||(this.savedCities.push(e),localStorage.setItem("savedCities",JSON.stringify(this.savedCities)),this.updateSavedWeather())},deleteCity:function(e){var t=this.savedCities.indexOf(e);this.savedCities.splice(t,1),localStorage.setItem("savedCities",JSON.stringify(this.savedCities)),this.updateSavedWeather()},updateCurWeather:function(){this.$store.dispatch("updateCurWeather",this.curCity)},updateSavedWeather:function(){this.$store.dispatch("updateSavedWeather",this.savedCities)},updateCurLocWeather:function(){this.$store.dispatch("updateCurLocWeather")}},created:function(){this.savedCities=localStorage.getItem("savedCities")?JSON.parse(localStorage.getItem("savedCities")):[],this.updateCurLocWeather(),this.updateSavedWeather()}},X=Q,Y=(a("a1c1"),a("7496")),Z=a("ce7e"),ee=a("f6c4"),te=a("8654"),ae=a("71d9"),re=Object(h["a"])(X,i,o,!1,null,"086865d9",null),ne=re.exports;f()(re,{VApp:Y["a"],VCard:k["a"],VDivider:Z["a"],VMain:ee["a"],VTextField:te["a"],VToolbar:ae["a"]});a("d81d"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("96cf");var ie=a("1da1"),oe=a("bc3a"),ce=a.n(oe),se=ce.a.create({baseURL:"https://api.openweathermap.org/data/2.5/"});function ue(e){return de.apply(this,arguments)}function de(){return de=Object(ie["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",se.get("/weather?q=".concat(t,"&units=metric&appid=").concat("f318a0e97b6dd1aca6f000661b0a6437")));case 1:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function le(e){return ve.apply(this,arguments)}function ve(){return ve=Object(ie["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.lat,r=t.lon,e.abrupt("return",se.get("/weather?lat=".concat(a,"&lon=").concat(r,"&units=metric&appid=").concat("f318a0e97b6dd1aca6f000661b0a6437")));case 2:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function he(){var e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};return new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}))}var pe={savedWeather:null,curWeather:null},fe={SET_SAVED_WEATHER:function(e,t){e.savedWeather=t},SET_CUR_WEATHER:function(e,t){e.curWeather=t}},me={updateSavedWeather:function(e,t){var a=e.commit,r={};return Promise.all(t.map((function(e){return ue(e).then((function(t){return r[e]=t.data}))}))).then((function(){return a("SET_SAVED_WEATHER",r)}))},updateCurWeather:function(e,t){var a=e.commit;return ue(t).then((function(e){return a("SET_CUR_WEATHER",e.data)})).catch((function(e){console.log(e),a("SET_CUR_WEATHER","error")}))},updateCurLocWeather:function(e){var t=e.commit;return he().then((function(e){var a=e.coords,r=a.latitude.toString(),n=a.longitude.toString();return le({lat:r,lon:n}).then((function(e){return t("SET_CUR_WEATHER",e.data)})).catch((function(e){console.log(e),t("SET_CUR_WEATHER","error")}))})).catch((function(e){return console.log(e)}))}};n["a"].use(s["a"]);var ge=!1,ye=new s["a"].Store({modules:{weather:r},state:{},mutations:{},actions:{},devtools:ge}),Ce=a("f309");n["a"].use(Ce["a"]);var be=new Ce["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:be,store:ye,render:function(e){return e(ne)}}).$mount("#app")},a1c1:function(e,t,a){"use strict";a("b7ec")},b7ec:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.fa5cd5c9.png"}});
//# sourceMappingURL=app.b920cfe1.js.map